[web]
enabled = 1
baseurl = {{ data['DNSUI_WEB_BASEURL']|default("http://example.com" , true) }}
logo = {{ data['DNSUI_WEB_LOGO']|default("'/logo-header-opera.png'" , true) }}
header = {{ data['DNSUI_WEB_HEADER']|default("'DNS Management'" , true) }}
footer = {{ data['DNSUI_WEB_FOOTER']|default("'Developed by <a href=\"https://www.opera.com/\">Opera Software</a>.'", true) }}
force_change_review = {{ data['DNSUI_FORCE_CHANGE_REVIEW']|default("0" , true) }}
force_change_comment = {{ data['DNSUI_FORCE_CHANGE_COMMENT']|default("0" , true) }}

[email]
enabled = {{ data['DNSUI_EMAIL_ENABLED']|default("0", true) }}
from_address = {{ data['DNSUI_EMAIL_FROM_ADDRESS']|default("dnsui@example.com", true) }}
from_name = {{ data['DNSUI_EMAIL_FROM_NAME']|default("DNS Management System", true) }}
report_address = {{ data['DNSUI_EMAIL_REPORT_ADDRESS']|default("dnsui-report@example.com", true) }}
report_name = {{ data['DNSUI_EMAIL_REPORT_NAME']|default("DNS Administrator", true) }}

[database]
dsn = "pgsql:host={{ data['POSTGRES_HOST']|default("127.0.0.1", true) }} port={{ data['POSTGRES_PORT']|default("5432", true) }} dbname={{ data['POSTGRES_DB']|default("dnsui", true) }}"
username = {{ data['POSTGRES_USER']|default("dnsui", true) }}
password = {{ data['POSTGRES_PASSWORD']|default("CHANGEME", true) }}


[authentication]
; compare the user ID's case? (on by default)
user_case_sensitive = {{ data['DNSUI_AUTH_USER_CASE_SENSITIVE']|default("1", true) }}

[php_auth]
enabled = {{ data['DNSUI_PHP_AUTH_ENABLED']|default("1", true) }}
admin_group = "systems"

[ldap]
enabled = {{ data['DNSUI_LDAP_ENABLED']|default("0", true) }}
{%- if data['DNSUI_LDAP_ENABLED'] == 1 %}
host = "{{ data['DNSUI_LDAP_HOST'] }}"
starttls = {{ data['DNSUI_LDAP_STARTTLS'] }}
dn_user = "{{ data['DNSUI_LDAP_DN_USER'] }}"
dn_group = "{{ data['DNSUI_LDAP_DN_GROUP'] }}"
bind_dn = "{{ data['DNSUI_LDAP_BIND_DN'] }}"
bind_password = "{{ data['DNSUI_LDAP_BIND_PASSWORD'] }}"
user_id = {{ data['DNSUI_LDAP_USER_ID']|default("uid", true) }}
user_name = {{ data['DNSUI_LDAP_USER_NAME']|default("cn", true) }}
user_email = {{ data['DNSUI_LDAP_USER_EMAIL']|default("mail", true) }}
group_member = {{ data['DNSUI_LDAP_GROUP_MEMBER']|default("member", true) }}
group_member_value = {{ data['DNSUI_LDAP_GROUP_MEMBER_VALUE']|default("dn", true) }}
admin_group_cn = "{{ data['DNSUI_LDAP_ADMIN_GRUOP_CN'] }}"
{% endif %}

[powerdns]
api_url = "{{ data['DNSUI_API_PROTOCOL']|default("http", true) }}://{{ data['DNSUI_API_HOST']|default("127.0.0.1", true) }}:{{ data['DNSUI_API_PORT']|default("8000", true) }}/api/v1/servers/localhost"
api_key = {{ data['DNSUI_API_APIKEY']|default("CHANGEME", true) }}
soa_edit_api = {{ data['DNSUI_SOA_EDIT_API']|default("DEFAULT", true) }}

[dns]
dnssec = {{ data['DNSUI_DNS_DNSSEC']|default("1", true) }}
dnssec_edit = {{ data['DNSUI_DNS_DNS_EDIT']|default("1", true) }}
autocreate_reverse_records = {{ data['DNSUI_AUTOCREATE_PTR']|default("0", true) }}
local_zone_suffixes = {{ data['DNSUI_LOCAL_ZONE_SUFFIXES']|default("localdomain", true) }}
local_ipv4_ranges = "10.0.0.0/8 172.16.0.0/12 192.168.0.0/16 127.0.0.0/8"
local_ipv6_ranges = "fd00::/8 ::1/128"

[git_tracked_export]
enabled = {{ data['DNSUI_GIT_TRACKED_ENABLED']|default("0", true) }}
path = /tmp/dns-export

